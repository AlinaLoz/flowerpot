<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
    </head>
    <body>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script>
            var self = this;
            self.tasksURI = "http://...@tfs.eos.loc:8080/tfs/DefaultCollection/_api/_wit/teamProjects?__v=5";

            self.queriesURI =
                "http://...@tfs.eos.loc:8080/tfs/DefaultCollection/dc1312ac-8ecb-48dd-9bdb-25c2d15e2375/_api/_wit/queryFavorites?__v=5";

            self.queryExecURI =
                "http://...@tfs.eos.loc:8080/tfs/DefaultCollection/dc1312ac-8ecb-48dd-9bdb-25c2d15e2375/_apis/wit/wiql/200e3288-a988-4e12-a1f8-a775aa4c7c6c?api-version=1.0";


            self.wiURL = 'http://tfs.eos.loc:8080/tfs/DefaultCollection/_apis/wit/workItems/107715';

            self.ajax = function(uri, method, data) {
                var request = {
                    url: uri,
                    type: method,
                    contentType: "application/json",
                    accepts: "application/json",
                    cache: false,
                    dataType: "json",
                    data: JSON.stringify(data),
                    beforeSend: function(xhr) {
                        // xhr.setRequestHeader("Authorization", "Basic " + btoa(self.username + ":" + self.password));
                    },
                    error: function(jqXHR) {
                        console.log("ajax error " + jqXHR.status);
                    }
                };
                return $.ajax(request);
            };

            self.ajax(self.tasksURI, "GET").done(function(data) {
                console.log("resp", data);
                //alert(data);
            });

            self.ajax(self.queriesURI, "GET").done(function(data) {
                console.log("resp1", data);
                //alert(data);
            });

            self.ajax(self.queryExecURI, "GET").done(function(data) {
                console.log("resp2", data);
                //alert(data);
            });

            self.ajax(self.wiURL, "GET").done(function(data) {
                console.log("resp3", data);
                //alert(data);
            });

            //200e3288-a988-4e12-a1f8-a775aa4c7c6c what have i done

            //PROJECT -> projects -> 0 -> guid/name
            //QUERYFAV -> myFavorites -> 0 -> queryItem -> id/name
            //QUERYRESULT -> workItems -> 0 -> id/url
            //WI -> id/ref/fields{}
        </script>
    </body>
</html>
